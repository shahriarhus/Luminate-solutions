<div class="chat-widget">
    <!-- Chat Button -->
    <button 
      *ngIf="!isOpen" 
      (click)="toggleChat()" 
      class="chat-button"
      aria-label="Open chat">
      <i class="material-icons">chat</i>
    </button>
  
    <!-- Chat Window -->
    <div *ngIf="isOpen" class="chat-window">
      <!-- Header -->
      <div class="chat-header">
        <div class="chat-title">
          <i class="material-icons">smart_toy</i>
          <span>ChatBot</span>
        </div>
        <button (click)="toggleChat()" class="close-button" aria-label="Close chat">
          <i class="material-icons">close</i>
        </button>
      </div>
  
       <!-- Messages -->
       <div class="chat-messages">
        <!-- Static Options -->
        <div class="message message-bot">
          <div class="message-content">
            <p>Hello! How can we assist you today?</p>
            <!-- <div class="static-options">
              <a href="https://wa.me/917207367455" target="_blank" class="option-link">
                <i class="material-icons">chat</i> Chat on WhatsApp
              </a>
              <a href="tel:+917207367455" class="option-link">
                <i class="material-icons">call</i> Call Us
              </a>
            </div> -->
            <div class="static-options">
              <a href="https://wa.me/917207367455" target="_blank" class="option-link">
                <i class="material-icons">chat</i> Chat on WhatsApp
              </a>
              <a href="tel:+917207367455" class="option-link">
                <i class="material-icons">call</i> Call Us
              </a>
              <a href="mailto:info@luminatewebsol.com" class="option-link">
                <i class="material-icons">email</i> Email Us
              </a>
              <a routerLink="/solutions" class="option-link">
                <i class="material-icons">public</i> Visit Website
              </a>
            </div>
          </div>
        </div>

        <!-- Dynamic Messages -->
        <div *ngFor="let message of messages" 
             [ngClass]="{'message-bot': message.role === 'bot', 'message-user': message.role === 'user'}"
             class="message">
          <div class="message-content" [innerHTML]="message.content">
          </div>
        </div>

        <!-- Typing Indicator -->
        <div *ngIf="isLoading" class="message message-bot">
          <div class="message-content">
            <div class="typing-indicator">
              <span></span>
              <span></span>
              <span></span>
            </div>
          </div>
        </div>
      </div>
  
      <!-- Input -->
      <div class="chat-input">
        <input 
          type="text" 
          [(ngModel)]="newMessage"
          (keyup.enter)="sendMessage()"
          placeholder="Write a message..."
          [disabled]="isLoading">
        <button 
          (click)="sendMessage()" 
          [disabled]="!newMessage.trim() || isLoading"
          aria-label="Send message">
          <i class="material-icons">send</i>
        </button>
      </div>
    </div>
</div>